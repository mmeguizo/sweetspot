import{$ as T,A as N,B as F,Ba as $,D as j,E,F as L,G as D,H as p,Ka as H,N as V,Na as z,Pa as J,Q as _,S as G,Wa as K,Xa as W,Ya as X,Z as R,Za as Y,c as x,d as C,g as l,j as v,k as c,l as b,m as w,ma as A,o as u,p as s,pa as h,qa as B,ra as y,sa as Q,t as M,ta as U,u as g,ua as k,v as m,w as n,wa as d,x as f,xa as q,y as S,ya as P,yb as Z,z as I,za as O,zb as tt}from"./chunk-JSOYEUZN.js";function rt(e,t){e&1&&(S(0),f(1,"mat-spinner",11),I())}function nt(e,t){e&1&&(m(0,"button",12),p(1,"Login"),n())}var it=(()=>{let t=class t{constructor(o,i,a,r){this.formBuilder=o,this.notify=i,this.router=a,this.auth=r,this.getSubscription=new x,this.loading=!1,this.notLoading=!1,this.createForm()}ngOnInit(){}createForm(){this.form=this.formBuilder.group({username:["",[y.required]],password:["",[y.required]]})}executeAction(){this.auth.login(this.form.value).pipe(C(this.getSubscription)).subscribe(o=>{this.loading=!0,o.success?(this.loading=!1,this.notLoading=!0,this.auth.storeUserData(o.token),this.auth.AuthGuard()?this.router.navigate(["admin"]):(this.auth.logout(),this.router.navigate([""])),this.notify.notification$.next(o.message)):(this.loading=!1,this.notLoading=!0,this.notify.notification$.next(o.message)),this.loading=!1})}ngOnDestroy(){this.getSubscription.next(),this.getSubscription.complete()}};t.\u0275fac=function(i){return new(i||t)(s(P),s(R),s(A),s($))},t.\u0275cmp=v({type:t,selectors:[["app-login"]],viewQuery:function(i,a){if(i&1&&j(d,5),i&2){let r;E(r=L())&&(a.formDirective=r.first)}},decls:18,vars:3,consts:[["notLoading",""],[2,"display","flex","align-items","center","justify-content","center","height","100vh"],[1,"example-card",2,"width","350px"],[2,"display","flex","align-items","center","justify-content","center","padding-top","16px"],[2,"margin","0 auto"],[2,"padding","24px 16px","padding-bottom","0"],[2,"width","100%","max-width","350px",3,"submit","formGroup"],[2,"width","100%"],["matInput","","type","text","formControlName","username"],["matInput","","type","password","formControlName","password"],[4,"ngIf","ngIfElse"],["diameter","24",2,"margin","0 auto","display","block"],["mat-raised-button","","color","primary","type","submit",2,"width","100%","margin-top","16px","margin-bottom","16px"]],template:function(i,a){if(i&1){let r=N();m(0,"div",1)(1,"mat-card",2)(2,"mat-card-header",3)(3,"mat-card-title",4),p(4,"Resident Portal Management"),n()(),m(5,"mat-card-content",5)(6,"form",6),F("submit",function(){return b(r),w(a.executeAction())}),m(7,"mat-form-field",7)(8,"mat-label"),p(9,"Username"),n(),f(10,"input",8),n(),m(11,"mat-form-field",7)(12,"mat-label"),p(13,"Password"),n(),f(14,"input",9),n(),M(15,rt,2,0,"ng-container",10)(16,nt,2,0,"ng-template",null,0,V),n()()()()}if(i&2){let r=D(17);u(6),g("formGroup",a.form),u(9),g("ngIf",a.loading)("ngIfElse",r)}},dependencies:[_,T,K,X,Y,W,z,H,J,Z,k,B,Q,U,d,q]});let e=t;return e})();var at=[{path:"",component:it}],ot=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=c({type:t}),t.\u0275inj=l({imports:[h.forChild(at),h]});let e=t;return e})();var Dt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=c({type:t}),t.\u0275inj=l({imports:[G,tt,ot,O]});let e=t;return e})();export{Dt as LoginModule};
